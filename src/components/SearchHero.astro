---
/**
 * SearchHero - Main homepage hero with search
 * Extracted from index.astro to support MDX-driven architecture
 */
import { getCollection } from 'astro:content';
import Search from './Search';

// Get all docs for search functionality
const allDocs = await getCollection('docs');

// Prepare search data
const searchDocs = allDocs.map(doc => ({
  slug: doc.slug,
  title: doc.data.title,
  description: doc.data.description
}));
---

<header class="mb-16 text-center max-w-3xl mx-auto">
  <h1 class="text-4xl lg:text-5xl font-bold text-white mb-4">
    goingdark.social Wiki
  </h1>
  <p class="text-lg text-text-muted mb-8">
    Documentation for our privacy-focused Mastodon instance
  </p>

  <!-- DOMINANT SEARCH BAR -->
  <div class="relative">
    <Search client:load docs={searchDocs} />
    <div class="mt-3 text-sm text-text-subtle flex items-center justify-center gap-2">
      <kbd class="px-2 py-1 bg-surface border border-border rounded-xl text-text-muted font-mono text-xs">Ctrl+K</kbd>
      <span>to search</span>
    </div>
  </div>
</header>
